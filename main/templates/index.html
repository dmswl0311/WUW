{%extends 'base.html'%}
{%block content%}
{% load staticfiles %}

<div style="margin-top:5em" align="center">
    <h1 class="logo">왓츄원</h1>
    <br>
    <form action="{%url 'search'%}">
        <div class="input-group mb-3">
            <input type="text" name="search" class="form-control" aria-describedby="button-addon2" autocomplete="off">
            <div class="input-group-append">
                <input type='submit' value="검색" class="btn btn-outline-secondary" type="button" id="button-addon2">
            </div>
        </div>
    </form>
</div>
<div align="center">
    <button class="btn-1"><a href="{%url 'tag'%}" style="text-decoration:none; color:rgb(70, 69, 69);">태그</a></button>
    <button class="btn-1"><a href="{%url 'ranking'%}" style="text-decoration:none; color:rgb(70, 69, 69);">인기
            순위</a></button>
    <button class="btn-1"><a href="{%url 'random'%}"
            style="text-decoration:none; color:rgb(70, 69, 69);">랜덤</a></button>
    <!-- <button type="button" class="btn btn-outline-secondary"><a href="{%url 'random'%}">랜덤</a></button> -->
</div>
<div class="mt-5 mb-5">
    <div class="row">
        {%for m in movies%}
        <div class="col-sm-12 col-md-4 mb-5">
            <div class="card ">
                <div class="card-body p-2">
                    <i id="heart" class="fas fa-heart" style="color: red"></i><span
                        style="color:black;font-weight:bold;"> {{m.like_count}}</span>
                </div>
                {%if m.poster%}
                <img src="{{m.poster}}" class="card-img-top" alt="{{m.name}}">
                {%elif m.poster == ''%}
                <img src="{%static 'default_img.jpg'%}" class="card-img-top" alt="{{m.name}}">
                {%endif%}
                <div class="p-2 card-body">
                    <div align="center" style="height:2rem;">
                        {%if m.netflix == True%}
                        <img class="mr-3" style="width:2rem;" src="{%static 'icon/netflix.png'%}">
                        {%endif%}
                        {%if m.watcha == True%}
                        <img style="width:2rem;" src="{%static 'icon/watcha.png'%}">
                        {%endif%}
                    </div>
                    <a href="{%url 'detail' m.id%}" class="stretched-link"></a>
                </div>
            </div>
        </div>
        {%endfor%}
    </div>
</div>
<nav>
    <ul class="pagination">
        {% if movies.has_previous %}
        <li class="page-item "><a class="page-link" href="?page={{ movies.previous_page_number }}">&lt;</a></li>
        {% endif %}
        {% if movies.number > 2 %}
        <li class="page-item ml-auto"><a class="page-link" href="?page=1"><i class="fas fa-home"></i></a></li>
        {%endif%}
        {% if movies.has_next %}
        <li class="page-item ml-auto"><a class="page-link" href="?page={{ movies.next_page_number }}">&gt;</a></li>
        {% endif %}
    </ul>
    <a href="#" class="top"><button>Top</button></a>
</nav>

<style>
    @font-face {
        font-family: 'LotteMartHappy';
        font-style: normal;
        font-weight: 400;
        src: url('//cdn.jsdelivr.net/korean-webfonts/1/corps/lottemart/LotteMartHappy/LotteMartHappyMedium.woff2') format('woff2'), url('//cdn.jsdelivr.net/korean-webfonts/1/corps/lottemart/LotteMartHappy/LotteMartHappyMedium.woff') format('woff');
    }

    .logo {
        font-family: 'LotteMartHappy', sans-serif;
    }

    button,
    button::after {
        -webkit-transition: all 0.3s;
        -moz-transition: all 0.3s;
        -o-transition: all 0.3s;
        transition: all 0.3s;
    }

    button {
        background: none;
        border: 3px solid rgb(255, 255, 255);
        border-radius: 5px;
        color: rgba(255, 187, 0, 0.849);
        position: relative;
        text-transform: uppercase;
    }

    button::before,
    button::after {
        background: rgba(255, 187, 0, 0.849);
        content: '';
        position: absolute;
        z-index: -1;
    }

    button:hover {
        color: #000000;
    }

    /* BUTTON 1 */
    .btn-1::after {
        height: 0;
        left: 0;
        top: 0;
        width: 100%;
    }

    .btn-1:hover:after {
        height: 100%;
    }
</style>

<!-- 애니메이션 스크롤업 요부터~ -->
<style>
    a.top {
    position: fixed;
    left: 90%;
    bottom: 50px;
    display: none;
    }
</style>
<script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    $( document ).ready( function() {
    $( window ).scroll( function() {
        if ( $( this ).scrollTop() > 200 ) {
        $( '.top' ).fadeIn();
        } else {
        $( '.top' ).fadeOut();
        }
    } );
    $( '.top' ).click( function() {
        $( 'html, body' ).animate( { scrollTop : 0 }, 400 );
        return false;
    } );
    } );
</script>
<!-- 요까이 -->
{%endblock%}